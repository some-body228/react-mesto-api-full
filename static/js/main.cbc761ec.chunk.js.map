{"version":3,"sources":["images/logo.svg","components/Header.js","context/CurrentUserContext.js","components/main/Card.js","components/main/CardsContainer.js","components/main/Footer.js","components/main/ImagePopup.js","components/main/PopupWithForm.js","components/main/EditProfilePopup.js","components/main/EditAvatarPopup.js","components/main/AddPlacePopup.js","utils/аpi.js","components/main/Main.js","components/ProtectRoute.js","components/login/Login.js","components/register/Register.js","images/Union.svg","images/icon.svg","components/InfoTooltip.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logo","alt","children","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","id","curCard","owner","_id","console","log","isLiked","likes","some","i","link","name","onClick","onCardClick","type","onCardLike","length","style","display","onCardDelete","CardsContainer","react","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","card","Footer","ImagePopup","cardImageState","onClose","PopupWithForm","isOpen","title","noValidate","onSubmit","btnText","EditProfilePopup","onUpdateUser","useEffect","setName","setDescription","useState","description","evt","preventDefault","placeholder","required","minLength","maxLength","onChange","target","value","EditAvatarPopup","inputRef","useRef","current","ref","AddPlacePopup","place","setPlace","setLink","reset","mainApi","options","this","_url","baseUrl","_headers","headers","res","ok","json","Promise","reject","Error","status","fetch","authorization","localStorage","getItem","credentials","then","_getResponseData","avatarLink","method","body","JSON","stringify","data","token","Main","setCurrentUser","isEditProfilePopupOpen","setProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setAvatarPopupOpen","selectedCard","setSelectedCard","setCards","closeAllPopups","email","all","getInitialCards","getName","userInfo","catch","err","message","Provider","href","onLogOut","dislikeCard","newCard","setNewLikesCallback","likeCard","newCards","c","deleteCard","filter","patchName","patchAvatar","postCard","ProtectedRoute","loggedIn","component","to","Login","setEmail","password","setPassword","onLogin","Register","onRegistor","InfoTooltip","failed","failIcon","successIcon","auth","Authorization","App","history","useHistory","setLoggedIn","openPopup","infoPopup","setInfoPopup","closeInfoTooltip","jwt","checkToken","push","exact","path","removeItem","login","setItem","register","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cbc761ec.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import logo from \"../images/logo.svg\";\r\nfunction Header(props) {\r\n  return (\r\n      <header className=\"header\">\r\n        <img className=\"header__logo\" src={logo} alt=\"лого\" />\r\n        <div className=\"header__rendered-element\">{props.children}</div>\r\n      </header>\r\n  );\r\n}\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from \"../../context/CurrentUserContext.js\";\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = currentUser.id === props.curCard.owner._id;\r\n  console.log(props.curCard)\r\n  console.log(currentUser)\r\n  const isLiked = props.curCard.likes.some((i) => i === currentUser.id);\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.curCard);\r\n  }\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.curCard);\r\n  }\r\n  return (\r\n    <li className=\"elements__card\">\r\n      <img\r\n        className=\"elements__image\"\r\n        src={props.curCard.link}\r\n        alt={props.curCard.name}\r\n        onClick={() => {\r\n          props.onCardClick(props.curCard);\r\n        }}\r\n      />\r\n      <h2 className=\"elements__title\">{props.curCard.name}</h2>\r\n      <div className=\"elements__like-container\">\r\n        <button\r\n          className={`elements__like-button ${\r\n            isLiked && \"elements__like-button_liked\"\r\n          }`}\r\n          type=\"button\"\r\n          onClick={handleLikeClick}\r\n        ></button>\r\n        <span className=\"elements__like-number\">\r\n          {props.curCard.likes.length}\r\n        </span>\r\n      </div>\r\n      <button\r\n        className=\"elements__trash-button\"\r\n        type=\"button\"\r\n        style={{ display: isOwn ? \"block\" : \"none\" }}\r\n        onClick={handleDeleteClick}\r\n      ></button>\r\n    </li>\r\n  );\r\n}\r\nexport default Card;\r\n","import react from \"react\";\r\nimport Card from \"./Card.js\";\r\nimport { CurrentUserContext } from \"../../context/CurrentUserContext\";\r\nfunction CardsContainer(props) {\r\n  const currentUser = react.useContext(CurrentUserContext);\r\n  function renderCards() {\r\n    return props.cards.map((card) => {\r\n      return (\r\n        <Card\r\n          curCard={card}\r\n          onCardClick={props.onCardClick}\r\n          onCardLike={props.onCardLike}\r\n          onCardDelete={props.onCardDelete}\r\n          key={card._id}\r\n        />\r\n      );\r\n    });\r\n  }\r\n  return (\r\n    <main>\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-container\">\r\n          <img\r\n            className=\"profile__avatar\"\r\n            src={currentUser.avatar}\r\n            alt=\"аватар\"\r\n          />\r\n          <div\r\n            className=\"profile__avatar-redaction\"\r\n            onClick={props.onEditAvatar}\r\n          ></div>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__user-name\">{currentUser.name}</h1>\r\n          <button\r\n            className=\"profile__redaction-button\"\r\n            type=\"button\"\r\n            onClick={props.onEditProfile}\r\n          ></button>\r\n          <p className=\"profile__user-caption\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          className=\"profile__button\"\r\n          type=\"button\"\r\n          onClick={props.onAddPlace}\r\n        ></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">{renderCards()}</ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\nexport default CardsContainer;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\nexport default Footer;\r\n","function ImagePopup(props) {\r\n  return (\r\n    <section\r\n      className={`popup popup_type_image ${\r\n        props.cardImageState.link ? \"popup_opened\" : \"\"\r\n      }`}\r\n      id=\"image\"\r\n    >\r\n      <div className=\"popup__image-container\">\r\n        <img\r\n          className=\"popup__image\"\r\n          src={props.cardImageState.link}\r\n          alt={props.cardImageState.name}\r\n        />\r\n        <h2 className=\"popup__caption\">{props.cardImageState.name}</h2>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__exit-button popup__exit-button_type_image\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\nexport default ImagePopup;\r\n","function PopupWithForm(props) {\r\n  return (\r\n    <section\r\n      className={`popup ${props.isOpen ? \"popup_opened\" : \"\"}`}\r\n      id={props.name}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        <form\r\n          className=\"popup__form\"\r\n          name={`popup-form-${props.name}`}\r\n          noValidate\r\n          onSubmit={props.onSubmit}\r\n        >\r\n          {props.children}\r\n          <button type=\"submit\" className=\"popup__save-button\">\r\n            {props.btnText}\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"popup__exit-button\"\r\n            onClick={props.onClose}\r\n          ></button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport { CurrentUserContext } from \"../../context/CurrentUserContext.js\";\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n  function onNameChange(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n  function onDescriptionChange(evt) {\r\n    setDescription(evt.target.value);\r\n  }\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      name=\"redaction\"\r\n      title=\"Редактировать профиль\"\r\n      btnText=\"Сохранить\"\r\n      onSubmit={handleSubmit}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      children={\r\n        <>\r\n          <input\r\n            className=\"popup__input\"\r\n            id=\"user-name\"\r\n            type=\"text\"\r\n            placeholder=\"Имя\"\r\n            name=\"name\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"40\"\r\n            onChange={onNameChange}\r\n            value={name || \"\"}\r\n          />\r\n          <span className=\"popup__error\" id=\"user-name-error\"></span>\r\n          <input\r\n            className=\"popup__input\"\r\n            id=\"user-caption\"\r\n            type=\"text\"\r\n            placeholder=\"О себе\"\r\n            name=\"caption\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"200\"\r\n            onChange={onDescriptionChange}\r\n            value={description || \"\"}\r\n          />\r\n          <span className=\"popup__error\" id=\"user-caption-error\"></span>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateUser }) {\r\n  const inputRef = React.useRef();\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateUser(inputRef.current.value);\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar\"\r\n      title=\"Обновить аватар\"\r\n      btnText=\"Сохранить\"\r\n      onSubmit={handleSubmit}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      children={\r\n        <>\r\n          <input\r\n            className=\"popup__input\"\r\n            id=\"link\"\r\n            type=\"url\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            name=\"linkAvatar\"\r\n            required\r\n            ref={inputRef}\r\n          />\r\n          <span className=\"popup__error\" id=\"link-error\"></span>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n}\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const [place, setPlace] = React.useState(\"\");\r\n  const [link, setLink] = React.useState(\"\");\r\n  function onPlaceChange(evt) {\r\n    setPlace(evt.target.value);\r\n  }\r\n  function onLinkChange(evt) {\r\n    setLink(evt.target.value);\r\n  }\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onAddPlace({\r\n      name: place,\r\n      link,\r\n    });\r\n    evt.target.reset()\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-card\"\r\n      title=\"Новое место\"\r\n      btnText=\"Создать\"\r\n      onSubmit={handleSubmit}\r\n      isOpen={isOpen}\r\n      onClose={onClose}>\r\n          <input\r\n            className=\"popup__input\"\r\n            id=\"place\"\r\n            type=\"text\"\r\n            placeholder=\"Название\"\r\n            name=\"place\"\r\n            required\r\n            minLength=\"1\"\r\n            maxLength=\"30\"\r\n            onChange={onPlaceChange}\r\n          />\r\n          <span className=\"popup__error\" id=\"place-error\"></span>\r\n          <input\r\n            className=\"popup__input\"\r\n            id=\"link\"\r\n            type=\"url\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            name=\"link\"\r\n            required\r\n            onChange={onLinkChange}\r\n          />\r\n          <span className=\"popup__error\" id=\"link-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default AddPlacePopup;\r\n","\r\nclass api {\r\n    constructor(options) {\r\n      this._url = options.baseUrl;\r\n      this._headers = options.headers;\r\n    }\r\n  \r\n    _getResponseData(res) {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    }\r\n  \r\n    getInitialCards() {\r\n      return fetch(`${this._url}/cards`, {\r\n        headers: {\r\n          authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n          \"Content-Type\": \"application/json\",\r\n          \r\n        },\r\n        credentials: 'include',\r\n      }).then(this._getResponseData);\r\n    }\r\n  \r\n    getName() {\r\n      return fetch(`${this._url}/users/me`, {\r\n        headers: {\r\n          authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n          \"Content-Type\": \"application/json\",\r\n          \r\n        },\r\n        credentials: 'include',\r\n      }).then(this._getResponseData);\r\n    }\r\n  \r\n    patchAvatar(avatarLink) {\r\n      return fetch(`${this._url}/users/me/avatar`, {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n          \"Content-Type\": \"application/json\",\r\n          \r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify({\r\n          avatar: avatarLink,\r\n        }),\r\n      }).then(this._getResponseData);\r\n    }\r\n    patchName(data) {\r\n      return fetch(`${this._url}/users/me`, {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n          \"Content-Type\": \"application/json\",\r\n          \r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify(data),\r\n      }).then(this._getResponseData);\r\n    }\r\n  \r\n    postCard(data) {\r\n      return fetch(`${this._url}/cards`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n          \"Content-Type\": \"application/json\",\r\n          \r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify(data),\r\n      }).then(this._getResponseData);\r\n    }\r\n  \r\n    deleteCard(id) {\r\n      return fetch(`${this._url}/cards/${id}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n          \"Content-Type\": \"application/json\",\r\n          \r\n        },\r\n        credentials: 'include',\r\n      }).then(this._getResponseData);\r\n    }\r\n    likeCard(id) {\r\n      return fetch(`${this._url}/cards/${id}/likes`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n          \"Content-Type\": \"application/json\",\r\n          \r\n        },\r\n        credentials: 'include',\r\n      }).then(this._getResponseData);\r\n    }\r\n  \r\n    dislikeCard(id) {\r\n      return fetch(`${this._url}/cards/${id}/likes`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n          \"Content-Type\": \"application/json\",\r\n          \r\n        },\r\n        credentials: 'include',\r\n      }).then(this._getResponseData);\r\n    }\r\n  \r\n    register(data) {\r\n      console.log(data);\r\n      return fetch(`${this._url}/signup`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n          \"Content-Type\": \"application/json\",\r\n          \r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify(data),\r\n      }).then(this._getResponseData);\r\n    }\r\n    login(data) {\r\n      return fetch(`${this._url}/signin`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n          \"Content-Type\": \"application/json\",\r\n          \r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify(data),\r\n      }).then(this._getResponseData);\r\n    }\r\n    checkToken(token) {\r\n      return fetch(`${this._url}/users/me`, {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          authorization: `Bearer ${token}`,\r\n        },\r\n        credentials: 'include',\r\n      }).then(this._getResponseData);\r\n    }\r\n  }\r\n  const mainApi = new api({\r\n    baseUrl: \"https://api.subdomain.students.nomoredomains.rocks\",\r\n    headers: {\r\n      authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n      \"Content-Type\": \"application/json\",\r\n      \r\n    },\r\n  });\r\n  export default mainApi\r\n  ","import React from \"react\";\nimport CardsContainer from \"./CardsContainer.js\";\nimport Footer from \"./Footer.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup.js\";\nimport Header from \"../Header\";\nimport { CurrentUserContext } from \"../../context/CurrentUserContext.js\";\nimport mainApi from \"../../utils/аpi.js\";\nfunction Main(props) {\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [isEditProfilePopupOpen, setProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  console.log(props.email);\n  React.useEffect(() => {\n    Promise.all([mainApi.getInitialCards(), mainApi.getName()]).then(\n      ([cards, userInfo]) => {\n        setCards(cards);\n        setCurrentUser({\n          name: userInfo.name,\n          about: userInfo.about,\n          avatar: userInfo.avatar,\n          id: userInfo._id,\n        });\n      }\n    )\n    .catch(err=>{console.log(err.message)})\n  }, []);\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i === currentUser.id);\n    if (!isLiked) {\n      mainApi.likeCard(card._id).then((newCard) => setNewLikesCallback(newCard));\n    } else {\n      mainApi.dislikeCard(card._id).then((newCard) => setNewLikesCallback(newCard));\n    }\n    const setNewLikesCallback = (newCard) => {\n      const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n      setCards(newCards);\n    };\n  }\n  function handleCardDelete(card) {\n    mainApi.deleteCard(card._id).then((res) => {\n      const newCards = cards.filter((c) => {\n        return card._id !== c._id;\n      });\n      setCards(newCards);\n    });\n  }\n  function handleEditAvatarClick() {\n    setAvatarPopupOpen(!isEditAvatarPopupOpen);\n  }\n  function handleEditProfileClick() {\n    setProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n  function handleCardClick(card) {\n    setSelectedCard({\n      link: card.link,\n      name: card.name,\n    });\n  }\n  function closeAllPopups() {\n    setProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setAvatarPopupOpen(false);\n    setSelectedCard({});\n  }\n  function handleUpdateUser(data) {\n    mainApi.patchName(data).then((res) => {\n      setCurrentUser({\n        name: res.name,\n        about: res.about,\n        avatar: res.avatar,\n        id: res._id,\n      });\n      closeAllPopups();\n    });\n  }\n  function handleUpdateAvatar(data) {\n    mainApi.patchAvatar(data).then((res) => {\n      setCurrentUser({\n        name: res.name,\n        about: res.about,\n        avatar: res.avatar,\n        id: res._id,\n      });\n      closeAllPopups();\n    });\n  }\n  function handleAddPlaceSubmit(data) {\n    mainApi.postCard(data).then((res) => {\n      setCards([res, ...cards]);\n      closeAllPopups();\n    });\n  }\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header>\n            <p className=\"header__caption header__caption_type_email\">\n              {props.email}\n            </p>\n            <a\n              className=\"header__caption header__caption_type_logout\"\n              href=\"/sign-in\"\n              onClick={props.onLogOut}\n            >\n              Выйти\n            </a>\n      </Header>\n      <CardsContainer\n        onEditProfile={handleEditProfileClick}\n        onAddPlace={handleAddPlaceClick}\n        onEditAvatar={handleEditAvatarClick}\n        onCardClick={handleCardClick}\n        onClose={closeAllPopups}\n        cards={cards}\n        onCardLike={handleCardLike}\n        onCardDelete={handleCardDelete}\n      ></CardsContainer>\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n      />\n      <ImagePopup onClose={closeAllPopups} cardImageState={selectedCard} />\n      <PopupWithForm\n        name=\"confirm\"\n        title=\"Вы уверены?\"\n        btnText=\"да\"\n        isOpen={false}\n        onClose={closeAllPopups}\n        children={null}\n      />\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateAvatar}\n      />\n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlaceSubmit}\n      />\n      <Footer />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute(props) {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? (\r\n          <props.component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/sign-in\" />\r\n        )\r\n      }\r\n    </Route>\r\n  );\r\n}\r\nexport default ProtectedRoute;\r\n","import React from \"react\";\r\nfunction Login(props) {\r\n  const [email, setEmail] = React.useState({\r\n      value: \"\"\r\n  });\r\n  const [password, setPassword] = React.useState({\r\n      value: \"\"\r\n  });\r\n  function onSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onLogin({ email: email.value, password: password.value });\r\n  }\r\n  return (\r\n    <section className=\"sing\">\r\n      <h1 className=\"sing__title\">Вход</h1>\r\n      <form className=\"sing__form\" onSubmit={onSubmit}>\r\n        <input\r\n          className=\"sing__input\"\r\n          type=\"email\"\r\n          required\r\n          placeholder=\"Email\"\r\n          value={email.value}\r\n          onChange={(evt) => {\r\n            setEmail({value: evt.target.value});\r\n          }}\r\n        ></input>\r\n        <input\r\n          className=\"sing__input\"\r\n          type=\"password\"\r\n          required\r\n          minLength=\"8\"\r\n          maxLength=\"30\"\r\n          placeholder=\"Пароль\"\r\n          value={password.value}\r\n          onChange={(evt) => {\r\n            setPassword({value: evt.target.value});\r\n          }}\r\n        ></input>\r\n        <button className=\"sing__button\" type=\"submit\">\r\n          Войти\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\nexport default Login;\r\n","import React from \"react\";\r\nfunction Register(props) {\r\n  const [email, setEmail] = React.useState({\r\n    value: \"\"\r\n});\r\n  const [password, setPassword] = React.useState({\r\n    value: \"\"\r\n});\r\n  function onSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onRegistor({ email: email.value, password: password.value });\r\n  }\r\n  return (\r\n    <section className=\"sing\">\r\n      <h1 className=\"sing__title\">Регистрация</h1>\r\n      <form className=\"sing__form\" onSubmit={onSubmit}>\r\n        <input\r\n          className=\"sing__input\"\r\n          type=\"email\"\r\n          required\r\n          placeholder=\"Email\"\r\n          value={email.value}\r\n          onChange={(evt) => {\r\n            setEmail({value: evt.target.value});\r\n          }}\r\n        ></input>\r\n        <input\r\n          className=\"sing__input\"\r\n          type=\"password\"\r\n          required\r\n          minLength=\"8\"\r\n          maxLength=\"30\"\r\n          placeholder=\"Пароль\"\r\n          value={password.value}\r\n          onChange={(evt) => {\r\n            setPassword({value: evt.target.value});\r\n          }}\r\n        ></input>\r\n        <button className=\"sing__button\" type=\"submit\">\r\n          Зарегистрироваться\r\n        </button>\r\n        <a className=\"sing__caption\" href=\"/sign-in\">\r\n          Уже зарегистрированы? Войти\r\n        </a>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\nexport default Register;\r\n","export default __webpack_public_path__ + \"static/media/Union.7c6a020b.svg\";","export default __webpack_public_path__ + \"static/media/icon.1b6082f8.svg\";","import failIcon from \"../images/Union.svg\";\r\nimport successIcon from \"../images/icon.svg\";\r\nfunction InfoTooltip(props) {\r\n  return (\r\n    <section className={`popup ${props.isOpen ? \"popup_opened\" : \"\"}`}>\r\n      <div className=\"popup__container popup__container_type_failed-sign-in\">\r\n        <img\r\n          className=\"popup__icon\"\r\n          src={props.failed ? failIcon : successIcon}\r\n          alt=\"результат регистрации\"\r\n        />\r\n        <h1 className=\"popup__title\">\r\n          {props.failed\r\n            ? \"Что-то пошло не так! Попробуйте ещё раз.\"\r\n            : \"Вы успешно зарегистрировались!\"}\r\n        </h1>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__exit-button popup__exit-button_type_failed-sign-in\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\nexport default InfoTooltip;\r\n","\r\nclass Auth {\r\n    constructor(options) {\r\n      this._url = options.baseUrl;\r\n      this._headers = options.headers;\r\n    }\r\n    _getResponseData(res) {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n      }\r\n    register(data) {\r\n      return fetch(`${this._url}/signup`, {\r\n        method: \"POST\",\r\n        headers: this._headers,\r\n        credentials: 'include',\r\n        body: JSON.stringify(data),\r\n      }).then(this._getResponseData);\r\n    }\r\n    login(data) {\r\n      return fetch(`${this._url}/signin`, {\r\n        method: \"POST\",\r\n        headers: this._headers,\r\n        credentials: 'include',\r\n        body: JSON.stringify(data),\r\n      }).then(this._getResponseData);\r\n    }\r\n    checkToken(token) {\r\n      return fetch(`${this._url}/users/me`, {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        credentials: 'include',\r\n      }).then(this._getResponseData);\r\n    }\r\n  }\r\n\r\n  const auth = new Auth({\r\n    baseUrl: \"https://api.subdomain.students.nomoredomains.rocks\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n  export default auth","import React from \"react\";\r\nimport { Switch, Route, useHistory } from \"react-router-dom\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./main/Main\";\r\nimport ProtectedRoute from \"./ProtectRoute\";\r\nimport Login from \"./login/Login\";\r\nimport Register from \"./register/Register\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\nimport auth from \"../utils/auth\";\r\nfunction App(props) {\r\n  const history = useHistory();\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [infoPopup, setInfoPopup] = React.useState({\r\n    openPopup: false,\r\n    failed: true,\r\n  });\r\n  const [email, setEmail] = React.useState(\"\");\r\n  React.useEffect(() => {\r\n    const jwt = localStorage.getItem(\"jwt\");\r\n    if(jwt){\r\n      auth\r\n      .checkToken(jwt)\r\n      .then((res) => {\r\n        setLoggedIn(true);\r\n        setEmail(res.email);\r\n        history.push(\"/\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.message);\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  function onRegistor(data) {\r\n    auth\r\n      .register(data)\r\n      .then((res) => {\r\n        setInfoPopup({\r\n          openPopup: true,\r\n          failed: false,\r\n        });\r\n        history.push(\"/sign-in\");\r\n      })\r\n      .catch((err) => {\r\n        setInfoPopup({\r\n          openPopup: true,\r\n          failed: true,\r\n        });\r\n        console.log(err.message);\r\n      });\r\n  }\r\n  function onLogin(data) {\r\n    auth\r\n      .login(data)\r\n      .then((res) => {\r\n        localStorage.setItem(\"jwt\", res.token);\r\n        setLoggedIn(true);\r\n        setEmail(data.email);\r\n        history.push(\"/\");\r\n      })\r\n      .catch((err) => {\r\n        setInfoPopup({\r\n          openPopup: true,\r\n          failed: true,\r\n        });\r\n        console.log(err.message);\r\n      });\r\n  }\r\n  function logOut() {\r\n    setLoggedIn(false);\r\n    localStorage.removeItem(\"jwt\");\r\n  }\r\n  function closeInfoTooltip() {\r\n    setInfoPopup({\r\n      openPopup: false,\r\n      failed: infoPopup.failed,\r\n    });\r\n  }\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <ProtectedRoute\r\n          exact\r\n          path=\"/\"\r\n          component={Main}\r\n          loggedIn={loggedIn}\r\n          email={email}\r\n          onLogOut={logOut}\r\n        />\r\n        <Route exact path=\"/sign-in\">\r\n        <Header>\r\n              <a className=\"header__caption\" href=\"/sign-up\">\r\n                Регистрация\r\n              </a>\r\n          </Header>\r\n          <Login onLogin={onLogin} />\r\n          <InfoTooltip\r\n            isOpen={infoPopup.openPopup}\r\n            failed={infoPopup.failed}\r\n            onClose={closeInfoTooltip}\r\n          />\r\n        </Route>\r\n        <Route exact path=\"/sign-up\">\r\n          <Header>\r\n              <a className=\"header__caption\" href=\"/sign-in\">\r\n                Войти\r\n              </a>\r\n          </Header>\r\n            \r\n          <Register onRegistor={onRegistor} />\r\n          <InfoTooltip\r\n            isOpen={infoPopup.openPopup}\r\n            failed={infoPopup.failed}\r\n            onClose={closeInfoTooltip}\r\n          />\r\n        </Route>\r\n      </Switch>\r\n    </>\r\n  );\r\n}\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}